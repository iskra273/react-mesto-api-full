{"ast":null,"code":"export const BASE_URL = 'https://auth.nomoreparties.co';\n\nfunction getResponse(res) {\n  if (res.ok) {\n    return res.json();\n  }\n\n  return Promise.reject(res.status);\n}\n\nexport const register = (password, email) => {\n  return fetch(`${BASE_URL}/signup`, {\n    method: 'POST',\n    headers: {\n      'Accept': 'application/json',\n      'Content-Type': 'application/json'\n    },\n    body: JSON.stringify({\n      password,\n      email\n    })\n  }).then(res => {\n    // console.log(res);\n    return getResponse(res);\n  });\n};\nexport const authorize = (password, email) => {\n  return fetch(`${BASE_URL}/signin`, {\n    method: 'POST',\n    headers: {\n      'Accept': 'application/json',\n      'Content-Type': 'application/json'\n    },\n    body: JSON.stringify({\n      password,\n      email\n    })\n  }).then(res => {\n    console.log(res);\n    return getResponse(res);\n  });\n};\nexport const validityToken = token => {\n  return fetch(`${BASE_URL}/users/me`, {\n    method: 'GET',\n    headers: {\n      \"Content-Type\": \"application/json\",\n      \"Authorization\": `Bearer ${token}`\n    }\n  }).then(res => {\n    console.log(res);\n    return getResponse(res);\n  });\n};","map":{"version":3,"sources":["C:/Users/kraskova/dev/react-mesto-auth/src/utils/auth.js"],"names":["BASE_URL","getResponse","res","ok","json","Promise","reject","status","register","password","email","fetch","method","headers","body","JSON","stringify","then","authorize","console","log","validityToken","token"],"mappings":"AAAA,OAAO,MAAMA,QAAQ,GAAG,+BAAjB;;AAEP,SAASC,WAAT,CAAqBC,GAArB,EAA0B;AACtB,MAAIA,GAAG,CAACC,EAAR,EAAY;AACV,WAAOD,GAAG,CAACE,IAAJ,EAAP;AACD;;AACD,SAAOC,OAAO,CAACC,MAAR,CAAeJ,GAAG,CAACK,MAAnB,CAAP;AACD;;AAEH,OAAO,MAAMC,QAAQ,GAAG,CAACC,QAAD,EAAWC,KAAX,KAAqB;AAC3C,SAAOC,KAAK,CAAE,GAAEX,QAAS,SAAb,EAAuB;AACjCY,IAAAA,MAAM,EAAE,MADyB;AAEjCC,IAAAA,OAAO,EAAE;AACP,gBAAU,kBADH;AAEP,sBAAgB;AAFT,KAFwB;AAMjCC,IAAAA,IAAI,EAAEC,IAAI,CAACC,SAAL,CAAe;AAACP,MAAAA,QAAD;AAAWC,MAAAA;AAAX,KAAf;AAN2B,GAAvB,CAAL,CASNO,IATM,CASAf,GAAD,IAAS;AACb;AACA,WAAOD,WAAW,CAACC,GAAD,CAAlB;AACD,GAZM,CAAP;AAaD,CAdM;AAgBP,OAAO,MAAMgB,SAAS,GAAG,CAACT,QAAD,EAAWC,KAAX,KAAqB;AAC1C,SAAOC,KAAK,CAAE,GAAEX,QAAS,SAAb,EAAuB;AACjCY,IAAAA,MAAM,EAAE,MADyB;AAEjCC,IAAAA,OAAO,EAAE;AACP,gBAAU,kBADH;AAEP,sBAAgB;AAFT,KAFwB;AAMjCC,IAAAA,IAAI,EAAEC,IAAI,CAACC,SAAL,CAAe;AAACP,MAAAA,QAAD;AAAWC,MAAAA;AAAX,KAAf;AAN2B,GAAvB,CAAL,CAQNO,IARM,CAQAf,GAAD,IAAS;AACbiB,IAAAA,OAAO,CAACC,GAAR,CAAYlB,GAAZ;AACA,WAAOD,WAAW,CAACC,GAAD,CAAlB;AACD,GAXM,CAAP;AAYD,CAbI;AAeL,OAAO,MAAMmB,aAAa,GAAIC,KAAD,IAAW;AACtC,SAAOX,KAAK,CAAE,GAAEX,QAAS,WAAb,EAAyB;AACnCY,IAAAA,MAAM,EAAE,KAD2B;AAEnCC,IAAAA,OAAO,EAAE;AACP,sBAAgB,kBADT;AAEP,uBAAmB,UAASS,KAAM;AAF3B;AAF0B,GAAzB,CAAL,CAONL,IAPM,CAOAf,GAAD,IAAS;AACbiB,IAAAA,OAAO,CAACC,GAAR,CAAYlB,GAAZ;AACA,WAAOD,WAAW,CAACC,GAAD,CAAlB;AACD,GAVM,CAAP;AAWD,CAZM","sourcesContent":["export const BASE_URL = 'https://auth.nomoreparties.co';\r\n\r\nfunction getResponse(res) {\r\n    if (res.ok) {\r\n      return res.json();\r\n    } \r\n    return Promise.reject(res.status);\r\n  }\r\n\r\nexport const register = (password, email) => {\r\n  return fetch(`${BASE_URL}/signup`, {\r\n    method: 'POST',\r\n    headers: {\r\n      'Accept': 'application/json',\r\n      'Content-Type': 'application/json'\r\n    },\r\n    body: JSON.stringify({password, email})\r\n  })\r\n  \r\n  .then((res) => {\r\n    // console.log(res);\r\n    return getResponse(res)\r\n  })\r\n}; \r\n\r\nexport const authorize = (password, email) => {\r\n    return fetch(`${BASE_URL}/signin`, {\r\n      method: 'POST',\r\n      headers: {\r\n        'Accept': 'application/json',\r\n        'Content-Type': 'application/json'\r\n      },\r\n      body: JSON.stringify({password, email})\r\n    })\r\n    .then((res) => {\r\n      console.log(res);\r\n      return getResponse(res)\r\n    })\r\n  }; \r\n\r\n  export const validityToken = (token) => {\r\n    return fetch(`${BASE_URL}/users/me`, {\r\n      method: 'GET',\r\n      headers: {\r\n        \"Content-Type\": \"application/json\",\r\n        \"Authorization\" : `Bearer ${token}`\r\n      }\r\n    })\r\n    .then((res) => {\r\n      console.log(res);\r\n      return getResponse(res)\r\n    })\r\n  };"]},"metadata":{},"sourceType":"module"}